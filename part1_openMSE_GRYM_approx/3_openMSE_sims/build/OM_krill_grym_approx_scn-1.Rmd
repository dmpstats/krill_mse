---
title: 'Operating Model for approximating the base case application of the Grym framework to the Antarctic krill fishery'
subtitle: 'Description of input parameter values under scenario scn-1'
author: ""
date: ""
output: 
   html_document:
     toc: true
     toc_depth: 3
     toc_float: true
     theme: lumen
bibliography: ../../../references.json
---



```{css toc-content, echo = FALSE}
    
  #TOC {
  right: 50px;
  margin: 20px 0px 25px 0px;
  }
  
 .col-md-3 {
	width: 0%;
	}

  .main-container {
  margin-left: 5px;
  }
``` 
# Introduction



This is a supporting document for the application of the openMSE framework to the Antarctic Krill fishery. The primary objective of the analysis was to configure the openMSE components in a manner that closely approximates the methodology applied by the Grym framework [@maschette_etal20] for determining sustainable harvest rates for Krill. Specifically, the aim was to replicate the base-case implementation of Grym for the Krill stock as specified in [CCAMLR's code repository](https://github.com/ccamlr/Grym_Base_Case/tree/Simulations).



Here we focus on the specification of the main component of the openMSE framework, the Operational Model (OM), which sets up the parameters required to simulate the stock dynamics. In particular, we provide a description of the parameter values that underpin the OM for one of the input scenarios considered in the main analysis, referred to as scn-1. 



Further discussions and considerations regarding the configuration of the OMs to approximate the Grym framework are presented in the main document of the analysis. 





# Operating Model 
## Species Information 

**Species**: *Euphausia superba*

**Common Name**: *Antarctic Krill*

**Management Agency**: CCAMLR

**Region**: FAO Area 48

**Sponsor**: Norwegian Polar Institute

**Latitude**: -60

**Longitude**: -40

## OM Parameters 
**OM Name**: Name of the operating model: <span style='color:blue'> krill_grym_approx_scn-1</span>

**nsim**: The number of simulations: <span style='color:blue'> 10001</span>



**proyears**: The number of projected years: <span style='color:blue'> 50</span>



**interval**: The assessment interval - how often would you like to update the management system? <span style='color:blue'> 1</span>

**pstar**: The percentile of the sample of the management recommendation for each method: <span style='color:blue'> 0.5</span>

**maxF**: Maximum instantaneous fishing mortality rate that may be simulated for any given age class: <span style='color:blue'> 1.5</span>

**reps**: Number of samples of the management recommendation for each method. Note that when this is set to 1, the mean value of the data inputs is used. <span style='color:blue'> 1</span>

**Source**: A reference to a website or article from which parameters were taken to define the operating model

<span style='color:blue'> </span>

# Custom Parameters



### M and Perr



Simulation values for annual natural mortality (**M**) and recruitment process error (**Perr**) were obtained from a Proportional Recruitment (PR) model [@pavez_etal21] fitted to survey data specified under input scenario scn-1 (see main documentation for details on input parameters for the PR model). The PR method produces random draws of natural mortality $M$ and recruitment natural variability (expressed as CV, $CV_R$) expressing the uncertainty about those parameters. 



Generated draws of $M$ were used directly as simulation values of the OM parameter **M**. 



Draws of $CV_R$ were converted to log-normal standard deviations and plugged in as simulation values of **Perr** (i.e. $\texttt{Perr} = \sqrt{log(CV_R^2 + 1)}$).







### Age-plus group (plusgroup)



openMSE defaults to use the maximum age-class **maxage** as a plus group. However, in the Grym's base-case configuration, the final age class is not treated as an age-plus group. Therefore, to align with the Grym's specifications, the plus group option was switched off by setting the custom parameter as `OM@cpars$plusgroup <- 0`.







### Depletion optimization



The depletion optimization step in simulations for the historical period was switched off (`OM@cpars$qs <- rep(1, n_iter)`). This forces the derivation of the current depletion state to be based on selectivity and annual fishing mortality pattern. Therefore, values defined below for parameter **D** are ignored during simulations.





# Stock Parameters 

<!-- ## Common_Name --><!-- No justification provided.  -->

### Mortality and age:  maxage, R0, M, Msd

**maxage**: The maximum age of individuals that is simulated. There are maxage+1 (recruitment to age-0) age classes in the storage matrices. maxage is the plus group where all age-classes > maxage are grouped, unless option switched off with OM@cpars$plusgroup=0 . Single value. Positive integer.

Specified Value(s): <span style='color:blue'> 7</span>



Value from @constable_delamare96. 


In addition, as explained in section [Custom Parameters](#age-plus-group) above, 
age-class 7 **is not** an age-plus group. 


Thus, the assumption is that all individuals do not survive beyond the age of 7 
years [@maschette_wotherspoon21]. 






**R0**: Initial number of unfished recruits to age-0. This number is used to scale the size of the population to match catch or data, but does not affect any of the population dynamics unless the OM has been conditioned with data. As a result, for a data-limited fishery any number can be used for R0 . In data-rich stocks R0 may be estimated as part of a stock assessment, but for data limited stocks users can choose either an arbitrary number (say, 1000) or choose a number that produces simulated catches in recent historical years that are similar to real world catch data. Single value. Positive real number.

Specified Value(s): <span style='color:blue'> 1</span>

Based on the value assumed for mean recruitment in Grym's base-case application. 






**M**: The instantaneous rate of natural mortality. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. Uniform distribution lower and upper bounds. Non-negative real numbers.

Specified in cpars: <span style='color:blue'> 0.563, 1.291</span>

Simulation values for **M** provided in cpars (see [Custom 
Parameters](#custom-parameters)). The text above on values being drawn from an 
uniform distribution should be ignored. 






**Msd**: Inter-annual variation in M expressed as a coefficient of variation of a log-normal distribution. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. If this parameter is positive, yearly M is drawn from a log-normal distribution with a mean specified by log(M) drawn for that simulation and a standard deviation in log space specified by the value of Msd drawn for that simulation. Uniform distribution lower and upper bounds. Non-negative real numbers

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming natural mortality in krill is constant over time, in alignment with 
Grym's base-case application. 






```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Stock/NaturalMortality.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

### Recruitment: h, SRrel, Perr, AC

**h**: Steepness of the stock recruit relationship. Steepness governs the proportion of unfished recruits produced when the stock is at 20% of the unfished population size. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the same in all years of a given simulation. Uniform distribution lower and upper bounds. Values from 1/5 to 1.

Specified Value(s): <span style='color:blue'> 0.9, 0.95</span>

Selected range of **h** values chosen to provide an approximation to Grym's 
approach of simulating annual recruitment. In Grym's base-case, simulated number 
of recruits are *mostly* independent of stock size, unless when they are 
penalised by a depletion factor if the stock size in the preceding year falls 
below 20% of its pre-exploitation levels. 


Specifying high values of parameter **h**  results in strongly concave 
stock-recruitment curves, characterized by a steep increase in recruitment at 
low levels of stock size that approaches an asymptote. This implies that the 
simulated values of recruitment will be nearly independent of stock size, except 
when the stock is at 20% of its pre-exploitation size or below. 






**SRrel**: Type of stock-recruit relationship. Use 1 to select a Beverton Holt relationship, 2 to select a Ricker relationship. Single value. Integer

Specified Value(s): <span style='color:blue'> 1</span>

Grym's base-case does not incorporate density dependence in recruitment success, 
making the Ricker model less suitable as an approximation. Instead, the 
Bevertonâ€“Holt stock-recruitment model, with the values for parameter **h** 
specified as above, is expected to provide a better approximation to the Grym 
approach. 






**Perr**: Recruitment process error, which is defined as the standard deviation of the recruitment deviations in log space. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. Uniform distribution lower and upper bounds. Non-negative real numbers.

Specified in cpars: <span style='color:blue'> 0.255, 1.183</span>

Simulation values of **Perr** provided in cpars (see [Custom 
Parameters](#custom-parameters)). The text above about values being drawn from 
an uniform distribution should be ignored. 






**AC**: Autocorrelation in the recruitment deviations in log space. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided, and used to add lag-1 auto-correlation to the log recruitment deviations. Uniform distribution lower and upper bounds. Non-negative real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming no autocorrelation between consecutive annual recruitments. 








```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Stock/Recruitment.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

### Growth: Linf, K, t0, LenCV, Ksd, Linfsd

**Linf**: The von Bertalanffy growth parameter Linf, which specifies the average maximum size that would reached by adult fish if they lived indefinitely. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the same in all years unless Linfsd is a positive number. Uniform distribution lower and upper bounds. Positive real numbers.

Specified Value(s): <span style='color:blue'> 60, 60</span>

Value from @constable_delamare96, in millimeters. As in Grym's base case, 
the $L_\infty$ parameter is treated as known (i.e. no uncertainty). 






**K**: The von Bertalanffy growth parameter k, which specifies the average rate of growth. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the same in all years unless Ksd is a positive number. Uniform distribution lower and upper bounds. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0.48, 0.48</span>

Value from @thanassekos_etal21. Parameter $K$ is assumed to be known without 
error. 






**t0**: The von Bertalanffy growth parameter t0, which specifies the theoretical age at a size 0. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. Uniform distribution lower and upper bounds. Non-positive real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Value from @constable_delamare96. As in Grym's base-case, age at size-0 assumed 
as known (i.e. no uncertainty). 






**LenCV**: The coefficient of variation (defined as the standard deviation divided by mean) of the length-at-age. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided to specify the distribution of observed length-at-age, and the CV of this distribution is constant for all age classes (i.e, standard deviation increases proportionally with the mean). Uniform distribution lower and upper bounds. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0.01, 0.01</span>



Grym's base case does not account for variation in length-at-age, implying that 
all individuals follow exactly the average growth curve. However, trial runs in 
openMSE indicated that simulations would crash if variation in length-at-age was 
set to zero. 


Hence, to avoid simulation crashes, a very low level of variation (CV of 1%) in 
length-at-age was assumed in openMSE simulations. 


Furthermore, variation in length-at-age treated as known without error, with 
fixed values across simulations. 






**Ksd**: Inter-annual variation in K. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. If this parameter has a positive value, yearly K is drawn from a log-normal distribution with a mean specified by the value of K drawn for that simulation and a standard deviation (in log space) specified by the value of Ksd drawn for that simulation. Uniform distribution lower and upper bounds. Non-negative real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming no inter-annual variation in growth parameter $K$.  




**Linfsd**: Inter-annual variation in Linf. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. If this parameter has a positive value, yearly Linf is drawn from a log-normal distribution with a mean specified by the value of Linf drawn for that simulation and a standard deviation (in log space) specified by the value of Linfsd drawn for that simulation. Uniform distribution lower and upper bounds. Non-negative real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming no inter-annual variation in $L_\infty$. 






```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Stock/Growth.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

### Maturity: L50, L50_95

**L50**: Length at 50% maturity. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. The L50 and L50_95 parameters are converted to ages using the growth parameters provided and used to construct a logistic curve to determine the proportion of the population that is mature in each age class. Uniform distribution lower and upper bounds. Positive real numbers.

Specified Value(s): <span style='color:blue'> 32, 37</span>

Same values as minimum and maximum length (mm) at 50% maturity as specified 
under scenario scn-1, originally provided in @maschette_etal21 (check main 
analysis document for further details). 




**L50_95**: Difference in lengths between 50% and 95% maturity. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. The value drawn is then added to the length at 50% maturity to determine the length at 95% maturity. This parameterization is used instead of specifying the size at 95 percent maturity to avoid situations where the value drawn for the size at 95% maturity is smaller than that at 50% maturity. The L50 and L50_95 parameters are converted to ages using the growth parameters provided and used to construct a logistic curve to determine the proportion of the population that is mature in each age class. Uniform distribution lower and upper bounds. Positive real numbers.

Specified Value(s): <span style='color:blue'> 2.7, 2.7</span>



Grym's base-case formulates size-at-maturity using the ogive ramp function 
specified in terms `L50` and the ramp's width `matrange` (i.e. the range at 
which maturity occurs). 


Thus, `L95` (length at which 95% of individuals are matures) can be derived via 
the quantile function of the uniform distribution with limits `L50 +- matrange/2`. 


For a (known) width of 6mm, as specified under input scenario scn-1, we derive the `L50_95` 
parameter value as follows: 


```{r} 
matrange <- 6 
L50 <- 35 # arbitrary as `matrange` is treated as independent of midpoint L50 in Maschette et al (2021) 
L95 <- qunif(0.95, L50 - matrange/2, L50 + matrange/2) 
L95 - L50  
``` 
Similarly to the Grym approach, where `matrange` is treated as known, **L50_95** 
is also kept fixed across simulations. 






```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Stock/Maturity.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

### Stock depletion and Discard Mortality: D, Fdisc

**D**: Estimated current level of stock depletion, which is defined as the current spawning stock biomass divided by the unfished spawning stock biomass. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This parameter is used during model initialization to select a series of yearly historical recruitment values and fishing mortality rates that, based on the information provided, could have resulted in the specified depletion level in the simulated last historical year. Uniform distribution lower and upper bounds. Positive real numbers (typically < 1)

Specified Value(s): <span style='color:blue'> 1, 1</span>

Arbitrary values as depletion optimization step is not carried out (see 
[Depletion optimization](#depletion-optimization) section above). 






**Fdisc**: The instantaneous discard mortality rate the stock experiences when fished using the gear type specified in the corresponding fleet object and discarded. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. Uniform distribution lower and upper bounds. Non-negative real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Zero discard mortality rate, as discards are assumed non-existent in the Krill 
fishery, similarly to the Grym's base-case application. 






```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Stock/Depletion.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

### Length-weight conversion parameters: a, b

**a**: The alpha parameter in allometric length-weight relationship. Single value. Weight parameters are used to determine catch-at-age and population-at-age from the number of individuals in each age class and the length of each individual, which is drawn from a normal distribution determined by the Linf , K , t0 , and LenCV parameters. As a result, they function as a way to scale between numbers at age and biomass, and are not stochastic parameters. Single value. Positive real number.

Specified Value(s): <span style='color:blue'> 0</span>

Value from @sc-camlr00. As in Grym's base-case, the parameter **a** is assumed 
to be known without error (i.e. fixed values across simulations). 




**b**: The beta parameter in allometric length-weight relationship. Single value. Weight parameters are used to determine catch-at-age and population-at-age from the number of individuals in each age class and the length of each individual, which is drawn from a normal distribution determine by the Linf , K , t0 , and LenCV parameters. As a result, they function as a way to scale between numbers at age and biomass, and are not stochastic parameters. Single value. Positive real number.

Specified Value(s): <span style='color:blue'> 3.31</span>

Value from @sc-camlr00. Parameter **b** assumed to be known without error (i.e. 
fixed values across simulations). 






### Spatial distribution and movement: Size_area_1, Frac_area_1, Prob_staying

**Size_area_1**: The size of area 1 relative to area 2. The fraction of the unfished biomass in area 1. Please specify numbers between 0 and 1. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. For example, if Size_area_1 is 0.2, then 20% of the total area is allocated to area 1. Fishing can occur in both areas, or can be turned off in one area to simulate the effects of a no take marine reserve. Uniform distribution lower and upper bounds. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0.5, 0.5</span>

Parameter value not allowed to be 1 (i.e. forcing one single area), so 
specifying that the two sub-areas have equal size. 




**Frac_area_1**: The fraction of the unfished biomass in area 1. Please specify numbers between 0 and 1. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. For example, if Frac_area_1 is 0.5, then 50% of the unfished biomass is allocated to area 1, regardless of the size of area 1 (i.e, size and fraction in each area determine the density of fish, which may impact fishing spatial targeting). In each time step recruits are allocated to each area based on the proportion specified in Frac_area_1. Uniform distribution lower and upper bounds. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0.5, 0.5</span>

Parameter value not allowed to be 1 (i.e. forcing whole population to a single 
area), so specifying that population is evenly split between the two sub-areas. 






**Prob_staying**: The probability of individuals in area 1 remaining in area 1 over the course of one year. Please specify numbers between 0 and 1. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. For example, in an area with a Prob_staying value of 0.95 each fish has a 95% probability of staying in that area in each time step, and a 5% probability of moving to the other area. Uniform distribution lower and upper bounds. Positive fraction.

Specified Value(s): <span style='color:blue'> 0.5, 0.5</span>

Assuming 50% chance of movement between sub-areas. 




```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Stock/Spatial.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

# Fleet Parameters 

### Historical years of fishing, spatial targeting: nyears, Spat_targ

**nyears**: The number of years for the historical simulation. Single value. For example, if the simulated population is assumed to be unfished in 1975 and this is the year you want to start your historical simulations, and the most recent year for which there is data available is 2019, then nyears equals 45.

Specified Value(s): <span style='color:blue'> 2</span>

Minimum number of years allowed for the historical period in the current version 
of openMSE/MSEtools. Any value lower than 2 will cause simulation errors. 






**Spat_targ**: Distribution of fishing in relation to vulnerable biomass (VB) across areas. The distribution of fishing effort is proportional to VB^Spat_targ. Upper and lower bounds of a uniform distribution. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This parameter allows the user to model either avoidance or spatial targeting behavior by the fleet. If the parameter value is 1, fishing effort is allocated across areas in proportion to the population density of that area. Values below 1 simulate an avoidance behavior and values above 1 simulate a targeting behavior.

Specified Value(s): <span style='color:blue'> 1, 1</span>

Assuming fishing effort is allocated across areas in proportion to the 
population density in each area. 






### Trend in historical fishing effort (exploitation rate), interannual variability in fishing effort: EffYears, EffLower, EffUpper, Esd

**EffYears**: Vector indicating the historical years where there is information available to infer the relative fishing effort expended.This vector is specified in terms of the position of the year in the vector rather than the calendar year. For example, say our simulation starts with an unfished stock in 1975,and the current year (the last year for which there is data available) is 2019. Then there are 45 historical years simulated, and EffYears should include numbers between 1 and 45. Note that there may not be information available for every historical year, especially for data poor fisheries. In these situations, the EffYears vector should include only the positions of the years for which there is information, and the vector may be shorter than the total number of simulated historical years (nyears).

Arbitrary value. At least a single value required, otherwise the simulation will 
crash. 






**EffLower**: Lower bound on relative fishing effort corresponding to EffYears. EffLower must be a vector that is the same length as EffYears describing how fishing effort has changed over time. Information on relative fishing effort can be entered in any units provided they are consistent across the entire vector because the data provided will be scaled to 1 (divided by the maximum number provided).

Stock assumed to remain unexploited during the historical period. 






**EffUpper**: Upper bound on relative fishing effort corresponding to EffYears. EffUpper must be a vector that is the same length as EffYears describing how fishing effort has changed over time. Information on relative fishing effort can be entered in any units provided they are consistent across the entire vector because the data provided will be scaled to 1 (divided by the maximum number provided).

Stock assumed to remain unexploited during the historical period. 




<style type='text/css'>
.table {
    width: 75%; 
}
</style>
```{r, echo=FALSE, results='asis'}
knitr::kable(Effvals, format='markdown', caption='')
```

**Esd**: Additional inter-annual variability in fishing mortality rate. For each historical simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. If this parameter has a positive (non-zero) value, the yearly fishing mortality rate is drawn from a log-normal distribution with a standard deviation (in log space) specified by the value of Esd drawn for that simulation. This parameter applies only to historical projections.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Population assumed to remain unexploited during the historical period, so 
variability in historical fishing mortality is ignored. 




```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Fleet/Effort.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

### Annual increase in catchability, interannual variability in catchability: qinc, qcv

**qinc**: Mean temporal trend in catchability (also though of as the efficiency of fishing gear) parameter, expressed as a percentage change in catchability (q) per year. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. Positive numbers indicate an increase and negative numbers indicate a decrease. q then changes by this amount for in each year of the simulation This parameter applies only to forward projections.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming no change in mean gear efficiency over the projection period. 






**qcv**: Inter-annual variability in catchability expressed as a coefficient of variation. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This parameter applies only to forward projections.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming no inter-annual variability in gear efficiency over projection years. 






```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Fleet/Catchability.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

### Fishery gear length selectivity: L5, LFS, Vmaxlen, isRel

**L5**: Shortest length at which 5% of the population is vulnerable to selection by the gear used in this fleet. Values can either be specified as lengths (in the same units used for the maturity and growth parameters in the stock object) or as a percentage of the size of maturity (see the parameter isRel for more information). For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the same in all years unless cpars is used to provide time-varying selection.

Specified Value(s): <span style='color:blue'> 25.05, 30.05</span>



Analogously to the maturity ogive, the Grym approach specifies gear selectivity 
as a ramp function governed by two parameters: (i) the ramp's midpoint `L50`, 
expressing the length at which 50% of the fish are vulnerable to selection by 
the fishery; and (ii) `selrange`, the width of the ramp. 


Minimum and maximum values of `L50` and `selrange` are provided in 
@thanassekos_etal21, which are used to derive the minimum and maximum values of 
`L5` via the uniform quantile function, as follows: 


```{r} 
selrange <- 11 
L50 <- c(30, 35) 
L5 <- qunif(0.05, L50 - selrange/2, L50 + selrange/2) 
L5 
``` 






**LFS**: Shortest length at which 100% of the population is vulnerable to selection by the gear used by this fleet. Values can either be specified as lengths (in the same units used for the maturity and growth parameters in the stock object) or as a percentage of the size of maturity (see the parameter isRel for more information). For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the same in all years unless cpars is used to provide time-varying selection.

Specified Value(s): <span style='color:blue'> 35.5, 40.5</span>



Values derived from `L50` and `selrange`, as above. 


```{r} 
L50 + selrange/2 
``` 






**Vmaxlen**: Proportion of fish selected by the gear at the asymptotic length ('Stock@Linf'). Upper and Lower bounds between 0 and 1. A value of 1 indicates that 100% of fish are selected at the asymptotic length, and the selection curve is logistic. If Vmaxlen is less than 1 the selection curve is dome shaped. For example, if Vmaxlen is 0.4, then only 40% of fish are vulnerable to the fishing gear at the asymptotic length.

Specified Value(s): <span style='color:blue'> 1, 1</span>

All individuals considered to be selected at $L_{\infty}$. 






**isRel**: Specify whether selection and retention parameters use absolute lengths or relative to the size of maturity. Single logical value (TRUE or FALSE).

Specified Value(s): <span style='color:blue'> FALSE</span>

Selectivity parameters are in absolute units. 




### Fishery length retention: LR5, LFR, Rmaxlen, DR

**LR5**: Shortest length at which 5% of the population is vulnerable to retention by the fleet. Values can either be specified as lengths (in the same units used for the maturity and growth parameters in the stock object) or as a percentage of the size of maturity (see the parameter isRel for more information). For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the same in all years unless cpars is used to provide time-varying selection.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Analogously to the Grym's base case, assuming no discards - i.e. all individuals 
selected by the gear are retained. 








**LFR**: Shortest length where 100% of the population is vulnerable to retention by the fleet. Values can either be specified as lengths (in the same units used for the maturity and growth parameters in the stock object) or as a percentage of the size of maturity (see the parameter isRel for more information). For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the same in all years unless cpars is used to provide time-varying selection.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Idem to **LR5** - Assuming no discards and hence all individuals selected by the 
gear are retained. 






**Rmaxlen**: Proportion of fish retained at the asymptotic length ('Stock@Linf'). Upper and Lower bounds between 0 and 1. A value of 1 indicates that 100% of fish are retained at the asymptotic length, and the selection curve is logistic. If Rmaxlen is less than 1 the retention curve is dome shaped. For example, if Rmaxlen is 0.4, then only 40% of fish at the asymptotic length are retained.

Specified Value(s): <span style='color:blue'> 1, 1</span>

Same as **Vmaxlen**, i.e. 100% of fish are retained at $L_{\infty}$. 




**DR**: Discard rate, defined as the proportion of fully selected fish that are discarded by the fleet. Upper and Lower bounds between 0 and 1, with a value of 1 indicates that 100% of selected fish are discarded. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming no discards. 






### Current Year: CurrentYr

**CurrentYr**: The last historical year simulated before projections begin. Single value. Note that this should match the last historical year specified in the Data object, which is usually the last historical year for which data is available.

Specified Value(s): <span style='color:blue'> 2022</span>

Arbitrary value in the context of the openMSE-Grym approximation. Choosing the 
starting year of the project. 






### Existing Spatial Closures: MPA

**MPA**: Logical argument (TRUE or FALSE). Creates an MPA in Area 1 for all years if true is selected. Defaults to FALSE.

Specified Value(s): <span style='color:blue'> FALSE</span>

Both areas assumed to be open to fishing at all times. 








# Obs Parameters 

This section is not applicable in the context of the openMSE-Grym approximation, as the Management Procedures (MPs) that will be considered for the analysis (i.e. one MP for each of the considered $\gamma$ values) don't require sampled data from the fishery. Therefore, all Obs parameters will be set to zero.

### Catch statistics: Cobs, Cbiascv, CAA_nsamp, CAA_ESS, CAL_nsamp, CAL_ESS

**Cobs**: Observation error around the total catch. Observation error in the total catch is expressed as a coefficient of variation (CV). Cobs requires upper and lower bounds of a uniform distribution, and for each simulation a CV is sampled from this distribution. Each CV is used to specify a log-normal error distribution with a mean of 1 and a standard deviation equal to the sampled CV. The yearly observation error values for the catch data are then drawn from this distribution. For each time step the simulation model records the true catch, but the observed catch is generated by applying this yearly error term (plus any bias, if specified) to the true catch.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Catch assumed known without observation error. 




**Cbiascv**: Log-normally distributed coefficient of variation controlling the sampling bias in observed catch for each simulation. Bias occurs when catches are systematically skewed away from the true catch level (for example, due to underreporting of catch or undetected illegal catches). Cbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years.

Specified Value(s): <span style='color:blue'> 0</span>

Catch assumed known without observation bias. 




**CAA_nsamp**: Number of catch-at-age observations collected per time step. For each time step a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. Positive integers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

No catch-at-age sampling. 




**CAA_ESS**: Effective sample size of catch-at-age observations collected per time step. For each time step a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. CAA_ESS should not exceed CAA_nsamp. If greater than 1, then this is the multinomial distribution sample size. If less than 1, this is the coefficient of variation for the logistic normal distribution (see help doucmentation for simCAA for details).

Specified Value(s): <span style='color:blue'> 0, 0</span>

No catch-at-age sampling. 




**CAL_nsamp**: Number of catch-at-length observations collected per time step. For each time step a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. Positive integers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

No catch-at-length sampling. 




**CAL_ESS**: Effective sample size. For each time step a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. CAL_ESS should not exceed CAL_nsamp. Positive integers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

No catch-at-length sampling. 




### Index imprecision, bias and hyperstability: Iobs, Btobs, Btbiascv, beta

**Iobs**: Observation error in the relative abundance index expressed as a coefficient of variation (CV). Iobs requires upper and lower bounds of a uniform distribution, and for each simulation a CV is sampled from this distribution. Each CV is used to specify a log-normal error distribution with a mean of 1 and a standard deviation equal to the sampled CV. The yearly observation error values for the index of abundance data are then drawn from this distribution. For each time step the simulation model records the true change in abundance, but the observed index is generated by applying this yearly error term (plus any bias, if specified) to the true relative change in abundance. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

No observation error in the relative abundance index. 




**Btobs**: Observation error in the absolute abundance expressed as a coefficient of variation (CV). Btobs requires upper and lower bounds of a uniform distribution, and for each simulation a CV is sampled from this distribution. Each CV is used to specify a log-normal error distribution with a mean of 1 and a standard deviation equal to the sampled CV. The yearly observation error values for the absolute abundance data are then drawn from this distribution. For each time step the simulation model records the true abundance, but the observed abundance is generated by applying this yearly error term (plus any bias, if specified) to the true abundance. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

No observation error in the absolute abundance index. 




**Btbiascv**: Log-normally distributed coefficient (CV) controlling error in observations of the current stock biomass. Bias occurs when the observed index of abundance is is systematically higher or lower than the true relative abundance. Btbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

No bias in observations of stock biomass. 




**beta**: A parameter controlling hyperstability/hyperdepletion in the measurement of abundance. For each simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. Values below 1 lead to hyperstability (the observed index decreases more slowly than the true abundance) and values above 1 lead to hyperdepletion (the observed index decreases more rapidly than true abundance). Positive real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming no hyperstability/hyperdepletion in abundance estimation. 




### Bias in maturity, natural mortality rate and growth parameters: LenMbiascv, Mbiascv, Kbiascv,t0biascv, Linfbiascv

**LenMbiascv**: Log-normal coefficient of variation for sampling bias in observed length at 50 percent maturity. LenMbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias in estimated biological parameters. 




**Mbiascv**: Log-normal coefficient of variation for sampling bias in observed natural mortality rate. Mbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias in estimated biological parameters. 




**Kbiascv**: Log-normal coefficient of variation for sampling bias in observed growth parameter K. Kbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias in estimated biological parameters. 




**t0biascv**: Log-normal coefficient of variation for sampling bias in observed t0. t0biascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias in estimated biological parameters. 




**Linfbiascv**: Log-normal coefficient of variation for sampling bias in observed maximum length. Linfbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias in estimated biological parameters. 




### Bias in length at first capture, length at full selection: LFCbiascv, LFSbiascv

**LFCbiascv**: Log-normal coefficient of variation for sampling bias in observed length at first capture. LFCbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias in estimated biological parameters. 




**LFSbiascv**: Log-normal coefficient of variation for sampling bias in length-at-full selection. LFSbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias in estimated biological parameters. 




### Bias in fishery reference points, unfished biomass, FMSY, FMSY/M ratio, biomass at MSY relative to unfished:  FMSY_Mbiascv, BMSY_B0biascv

**FMSY_Mbiascv**: Log-normal coefficient of variation for sampling bias in estimates of the ratio of the fishing mortality rate that gives the maximum sustainable yield relative to the assumed instantaneous natural mortality rate. FMSY/M. FMSY_Mbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias. 




**BMSY_B0biascv**: Log-normal coefficient of variation for sampling bias in estimates of the BMSY relative to unfished biomass (BMSY/B0). BMSY_B0biascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias. 




### Management targets in terms of the index (i.e., model free), the total annual catches and absolute biomass levels: Irefbiascv, Crefbiascv, Brefbiascv

**Irefbiascv**: Log-normal coefficient of variation for sampling bias in the observed relative index of abundance (Iref). Irefbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias. 




**Crefbiascv**: Log-normal coefficient of variation for sampling bias in the observed reference catch (Cref). Crefbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias. 




**Brefbiascv**: Log-normal coefficient of variation for sampling bias in the observed reference biomass (Bref). Brefbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias. 




### Depletion bias and imprecision: Dbiascv, Dobs

**Dbiascv**: Log-normal coefficient of variation for sampling bias in the observed depletion level. Dbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias. 




**Dobs**: Log-normal coefficient of variation controlling error in observations of stock depletion among years. Observation error in the depletion expressed as a coefficient of variation (CV). Dobs requires the upper and lower bounds of a uniform distribution, and for each simulation a CV is sampled from this distribution. Each CV is used to specify a log-normal error distribution with a mean of 1 and a standard deviation equal to the sampled CV. The yearly observation error values for the depletion data are then drawn from this distribution. For each time step the simulation model records the true depletion, but the observed depletion is generated by applying this yearly error term (plus any bias, if specified) to the true depletion.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming no bias. 




### Recruitment compensation and trend: hbiascv, Recbiascv, sigmaRbiascv

**hbiascv**: Log-normal coefficient of variation for sampling persistent bias in steepness. hbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias. 




**Recbiascv**: Log-normal coefficient of variation for sampling persistent bias in recent recruitment strength. Recbiascv requires the upper and lower bounds of a uniform distribution, and for each simulation a CV is sampled from this distribution. Each CV is used to specify a log-normal error distribution with a mean of 1 and a standard deviation equal to the sampled CV. The yearly bias values for the depletion data are then drawn from this distribution. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming no bias. 




**sigmaRbiascv**: Log-normal coefficient of variation for sampling persistent bias in recruitment variability. sigmaRbiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias. 




### Effort: Eobs, Ebiascv

**Eobs**: Observation error around the total effort. Observation error in the total effort is expressed as a coefficient of variation (CV). Eobs requires upper and lower bounds of a uniform distribution, and for each simulation a CV is sampled from this distribution. Each CV is used to specify a log-normal error distribution with a mean of 1 and a standard deviation equal to the sampled CV. The yearly observation error values for the effort data are then drawn from this distribution. For each time step the simulation model records the true effort, but the observed effort is generated by applying this yearly error term (plus any bias, if specified) to the true effort.

Specified Value(s): <span style='color:blue'> 0, 0</span>

No observation error around the total effort 




**Ebiascv**: Log-normally distributed coefficient of variation controlling the sampling bias in observed effort for each simulation. Bias occurs when effort is systematically skewed away from the true effort level. Ebiascv is a single value specifying the standard deviation of a log-normal distribution with a mean of 1 and a standard deviation equal to the sampled CV. For each simulation a bias value is drawn from this distribution, and that bias is applied across all years.

Specified Value(s): <span style='color:blue'> 0</span>

Assuming no bias. 









### Obs Plots
```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Obs/Obs.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

# Imp Parameters 

Similarly to the Grym's base-case approach, it is assumed that the recommendedTotal Allowable Catches (TACs) under considered MPs are enforced perfectly,meaning that catches never exceed nor fall short of the stipulated quotas.

### Output Control Implementation Error: TACFrac, TACSD

**TACFrac**: Mean fraction of recommended TAC that is actually taken. For each historical simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the mean TAC fraction obtained across all years of that simulation, and a yearly TAC frac is drawn from a log-normal distribution with the simulation mean and a coefficient of variation specified by the value of TACSD drawn for that simulation. If the value drawn is greater than 1 the amount of catch taken is greater than that recommended by the TAC, and if it is less than 1 the amount of catch taken is less than that recommended by the TAC. Positive real numbers.

Specified Value(s): <span style='color:blue'> 1, 1</span>

Assuming perfect implementation of TAC recommendations. 




**TACSD**: Log-normal coefficient of variation in the fraction of recommended TAC that is actually taken. For each historical simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is used, along with the TACFrac drawn for that simulation, to create a log-normal distribution that yearly values specifying the actual amount of catch taken are drawn from. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming perfect implementation of TAC recommendations. 




### Effort Control Implementation Error: TAEFrac, TAESD

**TAEFrac**: Mean fraction of recommended TAE that is actually taken. For each historical simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the mean TAE fraction obtained across all years of that simulation, and a yearly TAE frac is drawn from a log-normal distribution with the simulation mean and a coefficient of variation specified by the value of TAESD drawn for that simulation. If the value drawn is greater than 1 the amount of effort employed is greater than that recommended by the TAE, and if it is less than 1 the amount of effort employed is less than that recommended by the TAE. Positive real numbers.

Specified Value(s): <span style='color:blue'> 1, 1</span>

Assuming perfect implementation - not applicable for the openMSE-Grym approximation. 




**TAESD**: Log-normal coefficient of variation in the fraction of recommended TAE that is actually taken. For each historical simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is used, along with the TAEFrac drawn for that simulation, to create a log-normal distribution that yearly values speciying the actual amount of efort employed are drawn from. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming perfect implementation - not applicable for the openMSE-Grym approximation. 




### Size Limit Control Implementation Error: SizeLimFrac, SizeLimSD

**SizeLimFrac**: Mean fraction of recommended size limit that is actually retained. For each historical simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is the mean size limit fraction obtained across all years of that simulation, and a yearly size limit fraction is drawn from a log-normal distribution with the simulation mean and a coefficient of variation specified by the value of SizeLimSD drawn for that simulation. If the value drawn is greater than 1 the size of fish retained is greater than that recommended by the size limit, and if it is less than 1 the amount of size of fish retained is less than that recommended by the size limit. Positive real numbers.

Specified Value(s): <span style='color:blue'> 1, 1</span>

Assuming perfect implementation of size limit rules - not applicable for the 
openMSE-Grym approximation. 




**SizeLimSD**: Log-normal coefficient of variation in the fraction of recommended size limit that is actually retained. For each historical simulation a single value is drawn from a uniform distribution specified by the upper and lower bounds provided. This value is used, along with the SizeLimFrac drawn for that simulation, to create a log-normal distribution that yearly values speciying the actual fraction of the size limit retained are drawn from. Positive real numbers.

Specified Value(s): <span style='color:blue'> 0, 0</span>

Assuming perfect implementation of size limit rules - not applicable for the 
openMSE-Grym approximation. 







### Imp Plots
```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Imp/Imp.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```


# Historical Simulation Plots
```{r, echo=FALSE,include=FALSE}
input <- file.path(system.file(package = 'MSEtool'),'Rmd/Hist/Hist.Rmd')
 out <- knitr::knit_child(input) 
```

```{r, echo=FALSE, results='asis'}
cat(out)
```

# References

